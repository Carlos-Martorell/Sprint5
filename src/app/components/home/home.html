<div class="flex flex-col items-center min-h-screen bg-white">

  <app-escena [stepData]="currentStep()"></app-escena>

  <div class="
      absolute bottom-0 left-0 right-0 p-8 md:p-10
      md:relative md:w-3/4 md:max-w-xl md:bottom-auto md:p-0
      z-20 flex justify-between items-center
  ">

    <div class="dots-indicator flex gap-2">
      @for (step of steps(); track $index) {
        <span
          (click)="goToStep($index)"
          class="
            transition-all duration-300 ease-in-out
            rounded-full cursor-pointer h-2
          "
          [ngClass]="{
            'w-8 bg-black': currentStepIndex() === $index,
            'w-2 bg-gray-400': currentStepIndex() !== $index
          }"
          [title]="step.title"
        ></span>
      }
    </div>


    <div class="flex gap-4">

      @if (canGoBack()) {
        <button
          (click)="goBack()"
          class="
            bg-gray-800 hover:bg-gray-700 text-white
            font-bold text-xl w-10 h-10 rounded-full
            flex items-center justify-center shadow-lg
          "
          aria-label="Retroceder"
        >
          &larr; </button>
      }

      @if (canGoForward()) {
        <button
          (click)="goForward()"
          class="
            bg-black hover:bg-gray-800 text-white
            font-bold text-xl w-10 h-10 rounded-full
            flex items-center justify-center shadow-lg
          "
          aria-label="Avanzar"
        >
          &rarr; </button>
      }
    </div>
  </div>
</div>
